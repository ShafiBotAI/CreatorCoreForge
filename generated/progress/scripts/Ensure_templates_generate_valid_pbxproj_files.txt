# Auto-generated for Ensure templates generate valid pbxproj files
def ensure_templates_generate_valid_pbxproj(template_dir="templates"):
    """Check all Xcode project templates compile into valid .pbxproj files."""
    import os, subprocess
    valid = []
    for root, dirs, files in os.walk(template_dir):
        for f in files:
            if f.endswith(".xcodeproj"):
                proj_path = os.path.join(root, f)
                try:
                    subprocess.check_call(["plutil", proj_path], stdout=subprocess.DEVNULL, stderr=subprocess.DEVNULL)
                    valid.append(proj_path)
                except Exception:
                    pass
    return valid
